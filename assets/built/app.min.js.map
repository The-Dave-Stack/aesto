{"version":3,"sources":["script.js"],"names":["resizeGalleryImages","document","querySelectorAll","forEach","image","container","closest","width","getAttribute","height","style","flex","menuOpen","querySelector","addEventListener","body","classList","toggle","LoadMorePagination","setupLightbox","lazyLoadImages","html","darkLight","images","lightboxOverlay","createElement","className","appendChild","styleElement","closeLightbox","remove","overflow","textContent","head","lightboxImage","imageUrl","imageAlt","src","alt","lightboxContent","closeButton","innerHTML","add","event","target","lazyImageObserver","loadedClass","dataSrcAttribute","dataSrcsetAttribute","sourceSelector","lazyImages","slice","call","window","IntersectionObserver","entries","observer","entry","isIntersecting","lazyImage","hasAttribute","srcset","parentNode","lazySource","removeAttribute","unobserve","observe","hideLoadMoreButton","loadMoreButton","display","handleLoadMoreClick","e","preventDefault","disabled","pagination_next_page_number","pagination_available_pages_number","url","nextPageUrl","split","fetch","then","response","ok","text","data","wrapper","tempDiv","Array","from","element","nextLink","setAttribute","localStorage","setItem","console","log"],"mappings":"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","file":"app.min.js","sourcesContent":["\n\nmenuOpen();\nLoadMorePagination()\n\n// Call the function to start lazy loading\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    setupLightbox();\n    lazyLoadImages();\n    resizeGalleryImages();\n});\n\n//gallery\nfunction resizeGalleryImages() {\n    var images = document.querySelectorAll('.kg-gallery-image img');\n    images.forEach(function (image) {\n      var container = image.closest('.kg-gallery-image');\n      var width = image.getAttribute('width');\n      var height = image.getAttribute('height');\n      var ratio = width / height;\n      container.style.flex = ratio + ' 1 0%';\n    });\n  }\n\n\n// Toggle the menu open and close when on mobile\nfunction menuOpen() {\n    const burgerButton = document.querySelector('.it-burger');\n    burgerButton.addEventListener('click', function () {\n        document.body.classList.toggle('it-head-open');\n    });\n}\n\n// Dark/Light Mode\n    \nvar html = document.querySelector('html'),\ndarkLight = document.querySelector('.it-dark-light')\ndarkLight.addEventListener('click', function(){\n   if(html.getAttribute('data-theme') === 'light'){\n       html.setAttribute('data-theme', 'dark')\n       localStorage.setItem('selected-theme', 'dark');\n   }else{\n       html.setAttribute('data-theme', 'light')\n       localStorage.setItem('selected-theme', 'light');\n   }\n   console.log(html.hasAttribute('data-theme'))\n})\n\n\n//Light Box\nfunction setupLightbox() {\n    const images = document.querySelectorAll('.kg-image-card .kg-image, .kg-gallery-image img ');\n    const lightboxOverlay = document.createElement('div');\n    lightboxOverlay.className = 'v-lightbox-overlay';\n    document.body.appendChild(lightboxOverlay);\n\n    const styles = `\n    .kg-image-card .kg-image, .kg-gallery-image img {\n      cursor: zoom-in;\n    }\n    .v-lightbox-overlay {\n      display: none;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.8);\n      z-index: 9999;\n      opacity: 0;\n      transition: opacity 0.3s ease, transform 0.3s ease;\n      overflow-y: auto;\n      overscroll-behavior: contain;\n    }\n    \n    .v-lightbox-overlay.show {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      opacity: 1;\n    }\n    \n    .v-lightbox-content {\n      position: relative;\n      max-width: 90%;\n      max-height: 90%;\n      animation: lightbox-fade-in 0.3s ease;\n    }\n    \n    @keyframes lightbox-fade-in {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 1;\n      }\n    }\n    \n    .v-lightbox-image {\n      display: block;\n      max-width: 100%;\n      max-height: 100%;\n      margin: 0 auto;\n    }\n    \n    .close-button {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      color: #fff;\n      font-size: 24px;\n      cursor: pointer;\n    }\n    \n    @media (max-width: 768px) {\n      .v-lightbox-overlay.show {\n        align-items: flex-start;\n      }\n    \n      .v-lightbox-content {\n        width: 90%;\n        max-height: 90vh;\n        animation: lightbox-fade-in 0.3s ease;\n      }\n    }\n    \n    `;\n\n    const styleElement = document.createElement('style');\n    styleElement.textContent = styles;\n    document.head.appendChild(styleElement);\n\n    function openLightbox(imageUrl, imageAlt) {\n      const lightboxImage = document.createElement('img');\n      lightboxImage.className = 'v-lightbox-image';\n      lightboxImage.src = imageUrl;\n      lightboxImage.alt = imageAlt;\n\n      const lightboxContent = document.createElement('div');\n      lightboxContent.className = 'v-lightbox-content';\n      lightboxContent.appendChild(lightboxImage);\n\n      const closeButton = document.createElement('span');\n      closeButton.className = 'close-button';\n      closeButton.innerHTML = '&times;';\n      closeButton.addEventListener('click', closeLightbox);\n      lightboxContent.appendChild(closeButton);\n\n      lightboxOverlay.innerHTML = '';\n      lightboxOverlay.appendChild(lightboxContent);\n      lightboxOverlay.classList.add('show');\n      document.body.style.overflow = 'hidden';\n    }\n\n    function closeLightbox() {\n      lightboxOverlay.classList.remove('show');\n      document.body.style.overflow = '';\n    }\n\n    images.forEach(function(image) {\n      image.addEventListener('click', function() {\n        const imageUrl = image.getAttribute('src');\n        const imageAlt = image.getAttribute('alt');\n        openLightbox(imageUrl, imageAlt);\n      });\n    });\n\n    lightboxOverlay.addEventListener('click', function(event) {\n      if (event.target === lightboxOverlay) {\n        closeLightbox();\n      }\n    });\n}\n\n\n    // Lazy Load (New Lazyload Script)\n    function lazyLoadImages() {\n        var lazyClass = \"lazy\";\n        var loadedClass = \"loaded\";\n        var dataSrcAttribute = \"data-src\";\n        var dataSrcsetAttribute = \"data-srcset\";\n        var sourceSelector = \"source\";\n      \n        var lazyImages = [].slice.call(document.querySelectorAll(\".\" + lazyClass));\n      \n        if (\"IntersectionObserver\" in window) {\n          var lazyImageObserver = new IntersectionObserver(function(entries, observer) {\n            entries.forEach(function(entry) {\n              if (entry.isIntersecting) {\n                var lazyImage = entry.target;\n      \n                // Check if data-src attribute exists before updating attributes\n                if (lazyImage.hasAttribute(dataSrcAttribute)) {\n                  lazyImage.src = lazyImage.getAttribute(dataSrcAttribute);\n                  lazyImage.srcset = lazyImage.getAttribute(dataSrcsetAttribute);\n                  \n                  // Convert sibling source elements\n                  var lazySources = lazyImage.parentNode.querySelectorAll(sourceSelector);\n                  lazySources.forEach(function(lazySource) {\n                    lazySource.srcset = lazySource.getAttribute(dataSrcsetAttribute);\n                    lazySource.removeAttribute(dataSrcsetAttribute);\n                  });\n      \n                  lazyImage.removeAttribute(dataSrcAttribute);\n                  lazyImage.removeAttribute(dataSrcsetAttribute);\n                  lazyImage.classList.add(loadedClass);\n                }\n      \n                lazyImageObserver.unobserve(lazyImage);\n              }\n            });\n          });\n      \n          lazyImages.forEach(function(lazyImage) {\n            lazyImageObserver.observe(lazyImage);\n          });\n        } else {\n          // Fallback for browsers without Intersection Observer\n          lazyImages.forEach(function(lazyImage) {\n            if (lazyImage.hasAttribute(dataSrcAttribute)) {\n              lazyImage.src = lazyImage.getAttribute(dataSrcAttribute);\n              lazyImage.srcset = lazyImage.getAttribute(dataSrcsetAttribute);\n              \n              // Convert sibling source elements\n              var lazySources = lazyImage.parentNode.querySelectorAll(sourceSelector);\n              lazySources.forEach(function(lazySource) {\n                lazySource.srcset = lazySource.getAttribute(dataSrcsetAttribute);\n                lazySource.removeAttribute(dataSrcsetAttribute);\n              });\n      \n              lazyImage.classList.add(loadedClass);\n              lazyImage.removeAttribute(dataSrcAttribute);\n              lazyImage.removeAttribute(dataSrcsetAttribute);\n            }\n          });\n        }\n      }\n\nfunction LoadMorePagination() {\n\n    // Hide the load more button\n    function hideLoadMoreButton() {\n    if (loadMoreButton) {\n        loadMoreButton.style.display = 'none';\n    }\n    }\n\n    // Append HTML elements to a wrapper element\n    function appendElements(wrapper, elements) {\n    elements.forEach(function(element) {\n        wrapper.appendChild(element);\n    });\n    }\n\n    // Update pagination state and button status\n    function updatePaginationState() {\n    pagination_next_page_number++;\n    loadMoreButton.classList.remove('loading');\n    loadMoreButton.disabled = false;\n\n    if (pagination_next_page_number > pagination_available_pages_number) {\n        loadMoreButton.disabled = true;\n    }\n    }\n\n    // Handle click event for the load more button\n    function handleLoadMoreClick(e) {\n    e.preventDefault();\n    loadMoreButton.classList.add('loading');\n    loadMoreButton.disabled = true;\n\n    if (pagination_next_page_number <= pagination_available_pages_number) {\n        var url = nextPageUrl.split(/page/)[0] + 'page/' + pagination_next_page_number + '/';\n        fetch(url)\n        .then(function(response) {\n            if (response.ok) {\n            return response.text();\n            }\n        })\n        .then(function(data) {\n            var tempDiv = document.createElement('div');\n            tempDiv.innerHTML = data;\n            var wrapper = document.querySelector('.it-postfeed');\n            var html = Array.from(tempDiv.querySelectorAll('.post'));\n            appendElements(wrapper, html);\n            updatePaginationState();\n            lazyLoadImages();\n        });\n    }\n    }\n\n    // Main script\n    var nextLink = document.querySelector('link[rel=next]');\n    var nextPageUrl, loadMoreButton, endMessage;\n\n    // Check if there is a next link\n    if (nextLink !== null) {\n    nextPageUrl = nextLink.getAttribute('href');\n    loadMoreButton = document.querySelector('.it-load-posts');\n\n    // Check if the next page URL is undefined\n    if (typeof nextPageUrl === 'undefined') {\n        hideLoadMoreButton();\n    } else {\n        // Attach click event handler to the load more button\n        loadMoreButton.addEventListener('click', handleLoadMoreClick);\n    }\n    } else {\n    var paginationWrap = document.querySelector('.it-pagination');\n    // Hide the load more button if there is no next link and a pagination wrapper is present\n    if (paginationWrap !== null) {\n        hideLoadMoreButton();\n    }\n    }\n}"]}