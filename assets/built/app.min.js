function changeLanguage(e){var e=document.querySelector(`#language-dropdown option[value="${e}"]`).getAttribute("data-url"),t=window.location.pathname;window.location.href=""+e+t}function languageSelector(){var e,t=document.getElementById("language-dropdown");t&&((e=window.location.hostname).startsWith("en.")?t.value="en":e.startsWith("es.")?t.value="es":e.startsWith("zh.")&&(t.value="zh"))}function resizeGalleryImages(){document.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),a=e.getAttribute("width"),e=e.getAttribute("height");t.style.flex=a/e+" 1 0%"})}function menuOpen(){document.querySelector(".it-burger").addEventListener("click",function(){document.body.classList.toggle("it-head-open")})}menuOpen(),LoadMorePagination(),document.addEventListener("DOMContentLoaded",function(){setupLightbox(),lazyLoadImages(),resizeGalleryImages(),languageSelector()});var html=document.querySelector("html"),darkLight=document.querySelector(".it-dark-light");function setupLightbox(){var e=document.querySelectorAll(".kg-image-card .kg-image, .kg-gallery-image img ");let i=document.createElement("div");i.className="v-lightbox-overlay",document.body.appendChild(i);var t=document.createElement("style");function o(){i.classList.remove("show"),document.body.style.overflow=""}t.textContent=`
    .kg-image-card .kg-image, .kg-gallery-image img {
      cursor: zoom-in;
    }
    .v-lightbox-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease;
      overflow-y: auto;
      overscroll-behavior: contain;
    }
    
    .v-lightbox-overlay.show {
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
    }
    
    .v-lightbox-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      animation: lightbox-fade-in 0.3s ease;
    }
    
    @keyframes lightbox-fade-in {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
    
    .v-lightbox-image {
      display: block;
      max-width: 100%;
      max-height: 100%;
      margin: 0 auto;
    }
    
    .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      color: #fff;
      font-size: 24px;
      cursor: pointer;
    }
    
    @media (max-width: 768px) {
      .v-lightbox-overlay.show {
        align-items: flex-start;
      }
    
      .v-lightbox-content {
        width: 90%;
        max-height: 90vh;
        animation: lightbox-fade-in 0.3s ease;
      }
    }
    
    `,document.head.appendChild(t),e.forEach(function(n){n.addEventListener("click",function(){var e,t=n.getAttribute("src"),a=n.getAttribute("alt");t=t,a=a,(e=document.createElement("img")).className="v-lightbox-image",e.src=t,e.alt=a,(t=document.createElement("div")).className="v-lightbox-content",t.appendChild(e),(a=document.createElement("span")).className="close-button",a.innerHTML="&times;",a.addEventListener("click",o),t.appendChild(a),i.innerHTML="",i.appendChild(t),i.classList.add("show"),document.body.style.overflow="hidden"})}),i.addEventListener("click",function(e){e.target===i&&o()})}function lazyLoadImages(){var a,n="loaded",i="data-src",o="data-srcset",r="source",e=[].slice.call(document.querySelectorAll(".lazy"));"IntersectionObserver"in window?(a=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&((e=e.target).hasAttribute(i)&&(e.src=e.getAttribute(i),e.srcset=e.getAttribute(o),e.parentNode.querySelectorAll(r).forEach(function(e){e.srcset=e.getAttribute(o),e.removeAttribute(o)}),e.removeAttribute(i),e.removeAttribute(o),e.classList.add(n)),a.unobserve(e))})}),e.forEach(function(e){a.observe(e)})):e.forEach(function(e){e.hasAttribute(i)&&(e.src=e.getAttribute(i),e.srcset=e.getAttribute(o),e.parentNode.querySelectorAll(r).forEach(function(e){e.srcset=e.getAttribute(o),e.removeAttribute(o)}),e.classList.add(n),e.removeAttribute(i),e.removeAttribute(o))})}function LoadMorePagination(){function e(){n&&(n.style.display="none")}function t(e){e.preventDefault(),n.classList.add("loading"),n.disabled=!0,pagination_next_page_number<=pagination_available_pages_number&&(e=a.split(/page/)[0]+"page/"+pagination_next_page_number+"/",fetch(e).then(function(e){if(e.ok)return e.text()}).then(function(e){var t,a=document.createElement("div"),e=(a.innerHTML=e,document.querySelector(".it-postfeed")),a=Array.from(a.querySelectorAll(".post"));t=e,a.forEach(function(e){t.appendChild(e)}),pagination_next_page_number++,n.classList.remove("loading"),n.disabled=!1,pagination_next_page_number>pagination_available_pages_number&&(n.disabled=!0),lazyLoadImages()}))}var a,n,i=document.querySelector("link[rel=next]");null!==i?(a=i.getAttribute("href"),n=document.querySelector(".it-load-posts"),void 0===a?e():n.addEventListener("click",t)):null!==document.querySelector(".it-pagination")&&e()}darkLight.addEventListener("click",function(){"light"===html.getAttribute("data-theme")?(html.setAttribute("data-theme","dark"),localStorage.setItem("selected-theme","dark")):(html.setAttribute("data-theme","light"),localStorage.setItem("selected-theme","light")),console.log(html.hasAttribute("data-theme"))});
//# sourceMappingURL=app.min.js.map